## 什么是格式化字符串漏洞
   格式化字符串exploit是一类相对侥幸的exploit。同缓冲区溢出exploit一样，格式化字符串exploit 的最终目的是重写数据以控制特权程序的执行流程。
 
   格式化字符串漏洞是由像 printf(user_input) 这样的代码引起的，其中 user_input 是用户输入的数据，具有 Set-UID root 权限的这类程序在运行的时候，printf 语句将会变得非常危险，因为它可能会导致下面的结果：
* 使得程序崩溃
* 任意一块内存读取数据
* 修改任意一块内存里的数据

    printf 函数的格式化参数：

|参数|输出类型|
|----------|-------------------------------------------------|
|%d|十进制整数|
|%u|无符号整数|
|%x|十六进制整数|
|%s|字符串|
|%n|到目前为止，已写的字节个数|

## printf 函数参数在栈中的分布
以下面的代码为例：
```
printf("A is %d and is at %08x, B is %u and is at %08x.\n", A, &A, B, &B);
```
该printf函数参数再栈中的分布如下：

